/*! elementor - v0.7.1 - 18-08-2016 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("underscore"),require("backbone")):"function"==typeof define&&define.amd?define(["underscore","backbone"],n):(e.Backbone=e.Backbone||{},e.Backbone.Radio=n(e._,e.Backbone))}(this,(function(e,n){"use strict";e="default"in e?e.default:e,n="default"in n?n.default:n;var t={};t.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};var r=n.Radio,o=n.Radio={};o.VERSION="1.0.4",o.noConflict=function(){return n.Radio=r,this},o.DEBUG=!1,o._debugText=function(e,n,t){return e+(t?" on the "+t+" channel":"")+': "'+n+'"'},o.debugLog=function(e,n,t){o.DEBUG&&console&&console.warn&&console.warn(o._debugText(e,n,t))};var i=/\s+/;function s(e,n,t,r){var o=e[n];if(!(t&&t!==o.callback&&t!==o.callback._callback||r&&r!==o.context))return delete e[n],!0}o._eventsApi=function(n,r,o,s){if(!o)return!1;var u={};if("object"===(void 0===o?"undefined":t.typeof(o))){for(var a in o){var c=n[r].apply(n,[a,o[a]].concat(s));i.test(a)?e.extend(u,c):u[a]=c}return u}if(i.test(o)){for(var l=o.split(i),f=0,h=l.length;f<h;f++)u[l[f]]=n[r].apply(n,[l[f]].concat(s));return u}return!1},o._callHandler=function(e,n,t){var r=t[0],o=t[1],i=t[2];switch(t.length){case 0:return e.call(n);case 1:return e.call(n,r);case 2:return e.call(n,r,o);case 3:return e.call(n,r,o,i);default:return e.apply(n,t)}};var u,a,c={};function l(n){return c[n]||(c[n]=e.partial(o.log,n))}function f(n){return e.isFunction(n)?n:function(){return n}}e.extend(o,{log:function(n,t){if("undefined"!=typeof console){var r=e.drop(arguments,2);console.log("["+n+'] "'+t+'"',r)}},tuneIn:function(e){var n=o.channel(e);return n._tunedIn=!0,n.on("all",l(e)),this},tuneOut:function(e){var n=o.channel(e);return n._tunedIn=!1,n.off("all",l(e)),delete c[e],this}}),o.Requests={request:function(n){var t=e.rest(arguments),r=o._eventsApi(this,"request",n,t);if(r)return r;var i=this.channelName,s=this._requests;if(i&&this._tunedIn&&o.log.apply(this,[i,n].concat(t)),s&&(s[n]||s.default)){var u=s[n]||s.default;return t=s[n]?t:arguments,o._callHandler(u.callback,u.context,t)}o.debugLog("An unhandled request was fired",n,i)},reply:function(e,n,t){return o._eventsApi(this,"reply",e,[n,t])||(this._requests||(this._requests={}),this._requests[e]&&o.debugLog("A request was overwritten",e,this.channelName),this._requests[e]={callback:f(n),context:t||this}),this},replyOnce:function(n,t,r){if(o._eventsApi(this,"replyOnce",n,[t,r]))return this;var i=this,s=e.once((function(){return i.stopReplying(n),f(t).apply(this,arguments)}));return this.reply(n,s,r)},stopReplying:function(n,t,r){return o._eventsApi(this,"stopReplying",n)||(n||t||r?function(n,t,r,o){n||(n={});for(var i=t?[t]:e.keys(n),u=!1,a=0,c=i.length;a<c;a++)n[t=i[a]]&&s(n,t,r,o)&&(u=!0);return u}(this._requests,n,t,r)||o.debugLog("Attempted to remove the unregistered request",n,this.channelName):delete this._requests),this}},o._channels={},o.channel=function(e){if(!e)throw new Error("You must provide a name for the channel.");return o._channels[e]?o._channels[e]:o._channels[e]=new o.Channel(e)},o.Channel=function(e){this.channelName=e},e.extend(o.Channel.prototype,n.Events,o.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopReplying(),this}});var h=[n.Events,o.Requests];return e.each(h,(function(n){e.each(n,(function(n,t){o[t]=function(n){return a=e.rest(arguments),(u=this.channel(n))[t].apply(u,a)}}))})),o.reset=function(n){var t=n?[this._channels[n]]:this._channels;e.invoke(t,"reset")},o}));
